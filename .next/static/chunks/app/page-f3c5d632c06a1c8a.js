(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{49242:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>S});var n=r(6658),i=r(39242),o=r(24383),a=r(1499),l=r(26391),s=r(18448),d=r(55210),c=r(47367);let u=e=>{let{isPending:t,isDisabled:r}=e;return(0,n.jsx)(d.A,{variant:"contained",color:"secondary",type:"submit",disabled:t||r,fullWidth:!0,sx:{paddingY:1.5,fontSize:"1.1rem",fontWeight:600,fontFamily:"Roboto"},children:t?(0,n.jsx)(c.A,{size:24,color:"inherit"}):"Get Recipe"})};var h=r(67122);let x=(0,h.createServerReference)("40eb3e176e84178a2c14d7142d77f804a0ea09f9ba",h.callServer,void 0,h.findSourceMapURL,"scrapeData"),f=e=>{let{url:t,setUrl:r,setData:o}=e,d=(0,i.useRef)(null),[c,h]=(0,i.useTransition)(),{pending:f}=(0,l.useFormStatus)();return(0,i.useEffect)(()=>{var e;null==(e=d.current)||e.focus()},[]),(0,n.jsx)("form",{onSubmit:e=>{e.preventDefault();let r=new FormData;r.append("url",t),h(async()=>{try{let e=await x(r);o(e)}catch(e){console.error("Scrape failed:",e)}})},children:(0,n.jsxs)(a.A,{display:"flex",flexDirection:"column",gap:2,maxWidth:"500px",mx:"auto",children:[(0,n.jsx)(s.A,{inputRef:d,type:"text",label:"Paste BBC Good Food URL",variant:"outlined",value:t,name:"url",onChange:e=>r(e.target.value),fullWidth:!0}),(0,n.jsx)(u,{isDisabled:c||!t,isPending:c})]})})};var m=r(4636),p=r(89641),g=r(75229),v=r(37988),b=r(80175),j=r(87328);let A=e=>{let{title:t,ingredients:r,method:i,setUrl:o,setData:l}=e;return(0,n.jsxs)(a.A,{className:"no-print",sx:{position:"fixed",bottom:20,left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(255, 255, 255, 0.85)",borderRadius:50,padding:"0.5rem 1.5rem",display:"flex",gap:2,zIndex:10,boxShadow:3},children:[(0,n.jsx)(m.A,{title:"Export to PDF",children:(0,n.jsx)(p.A,{onClick:()=>{let e=new j.Ay;e.setFontSize(16),e.text(t,10,20),e.setFontSize(12),e.text("Ingredients:",10,30),r.forEach((t,r)=>{e.text("- ".concat(t),10,40+8*r)});let n=40+8*r.length+10;e.text("Method:",10,n),i.forEach((t,r)=>{e.text("".concat(r+1,". ").concat(t),10,n+10+8*r)}),e.save("".concat(t.replace(/\s+/g,"_"),".pdf"))},sx:{backgroundColor:"#f5f5f5",borderRadius:"50%",width:56,height:56,"&:hover":{backgroundColor:"#e0e0e0"}},children:(0,n.jsx)(g.A,{fontSize:"medium"})})}),(0,n.jsx)(m.A,{title:"Print Recipe",children:(0,n.jsx)(p.A,{onClick:()=>window.print(),sx:{backgroundColor:"#f5f5f5",borderRadius:"50%",width:56,height:56,"&:hover":{backgroundColor:"#e0e0e0"}},children:(0,n.jsx)(v.A,{fontSize:"medium"})})}),(0,n.jsx)(m.A,{title:"Get Another Recipe",children:(0,n.jsx)(p.A,{onClick:()=>{o(""),l(null),window.scrollTo({top:0,behavior:"smooth"})},sx:{backgroundColor:"#f5f5f5",borderRadius:"50%",width:56,height:56,"&:hover":{backgroundColor:"#e0e0e0"}},children:(0,n.jsx)(b.A,{fontSize:"medium"})})})]})};function S(){var e,t;let[r,l]=(0,i.useState)(""),[s,d]=(0,i.useState)(null);return(0,n.jsxs)("div",{style:{padding:"2rem"},children:[(0,n.jsxs)("div",{className:"no-print",children:[(0,n.jsx)(o.A,{variant:"h4",gutterBottom:!0,sx:{textAlign:"center"},children:"Replete"}),(0,n.jsx)(o.A,{variant:"subtitle1",gutterBottom:!0,sx:{textAlign:"center",color:"gray"},children:"Your recipe collection, full and flavourful."}),(0,n.jsx)(f,{url:r,setUrl:l,setData:d})]}),(0,n.jsx)("div",{className:"print-content",children:s&&(0,n.jsxs)("div",{style:{marginTop:"2rem"},children:[(0,n.jsx)(o.A,{variant:"h5",gutterBottom:!0,children:s.title}),(0,n.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Ingredients"}),null==(e=s.ingredients)?void 0:e.map((e,t)=>(0,n.jsxs)(o.A,{variant:"body1",children:["â€¢ ",e]},t)),(0,n.jsx)(o.A,{variant:"h6",gutterBottom:!0,children:"Method"}),(0,n.jsx)(a.A,{mb:4,children:null==(t=s.method)?void 0:t.map((e,t)=>(0,n.jsx)(o.A,{variant:"body2",paragraph:!0,children:"".concat(t+1,". ").concat(e)},t))})]})}),s&&(0,n.jsx)(A,{title:s.title,ingredients:s.ingredients,method:s.method,setUrl:l,setData:d})]})}},55807:(e,t,r)=>{Promise.resolve().then(r.bind(r,49242))}},e=>{var t=t=>e(e.s=t);e.O(0,[570,317,309,773,261,358],()=>t(55807)),_N_E=e.O()}]);